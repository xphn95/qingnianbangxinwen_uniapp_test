import{d as a,r as e,o as s,a as l,b as t,c as u,e as n,w as p,F as d,f as r,u as c,g as o,h as i,i as f,j as x,k as v,S as m,l as h,m as _,n as w,p as b,t as k,_ as y}from"./index.87cecfc7.js";import{_ as g}from"./NewsBox.5d1468c7.js";const j=""+new URL("nodata.1be3dea3.png",import.meta.url).href,z=y(a({__name:"index",setup(a){const y=e("50"),z=e(1),q=e(0),A=e([]),B=e([]),C=(a="50")=>{x({url:"https://ku.qingnian8.com/dataApi/news/newslist.php",data:{cid:+a,page:z.value},success:a=>{a.data.length<8&&(q.value=2),B.value=[...B.value,...a.data]}})};return s((()=>{x({url:"https://ku.qingnian8.com/dataApi/news/navlist.php",success:a=>{A.value=a.data}}),C()})),l((()=>{2!==q.value&&(q.value=1,z.value+=1,C())})),(a,e)=>{const s=v,l=m,x=h(_("NewsBox"),g),F=w;return t(),u(d,null,[n(l,{"scroll-x":"","box-border":"","h-100rpx":"",class:"uno-yzon2s",flex:"","flex-col":"","hide-scroll":"",fixed:"","left-0":"","wtop-0":"","z-10":""},{default:p((()=>[n(s,{class:"uno-vudgs5","whitespace-nowrap":""},{default:p((()=>[(t(!0),u(d,null,r(c(A),(a=>(t(),o(s,{key:a.id,class:b(a.id===c(y)?"uno-b5n0qf":""),onClick:e=>{return s=a.id,l=a.id,y.value=s,z.value=1,q.value=1,B.value=[],void C(l);var s,l}},{default:p((()=>[i(k(a.classname),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1}),c(B).length?(t(),o(s,{key:0,"p-30rpx":"","pt-130rpx":"","pb-48px":"",class:"p-30rpx pt-130rpx pb-48px"},{default:p((()=>[(t(!0),u(d,null,r(c(B),(a=>(t(),o(s,{key:a.id,"b-b-1px":"","b-b-dotted":"",class:"uno-z9h2wu","py-20rpx":""},{default:p((()=>[n(x,{prop:a},null,8,["prop"])])),_:2},1024)))),128))])),_:1})):(t(),o(s,{key:1,class:"mt-300rpx h-full flex justify-center items-center","h-full":"",flex:"","justify-center":"","items-center":""},{default:p((()=>[n(F,{src:j,mode:"widthFix","w-360rpx":"",class:"w-360rpx"})])),_:1})),n(s,{"text-center":"","text-26rpx":"",class:"uno-2ds6zu","leading-2em":""},{default:p((()=>[1===c(q)?(t(),o(s,{key:0},{default:p((()=>[i(" 数据加载中... ")])),_:1})):f("v-if",!0),2===c(q)?(t(),o(s,{key:1},{default:p((()=>[i(" 没有更多~ ")])),_:1})):f("v-if",!0)])),_:1})],64)}}}),[["__scopeId","data-v-85d7f810"]]);export{z as default};
