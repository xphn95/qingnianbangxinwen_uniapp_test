"use strict";const t=require("../../common/vendor.js"),e=t.defineComponent({__name:"detail",props:{cid:null,id:null},setup(e){const i=e,n=t.ref({title:"",author:"",content:"",posttime:""});t.index.request({url:"https://ku.qingnian8.com/dataApi/news/detail.php",data:i,success:e=>{const i=e.data;n.value=JSON.parse(JSON.stringify(i)),n.value.content=n.value.content.replace("<img",'<img style="max-width: 100%"'),t.index.setNavigationBarTitle({title:n.value.title}),(e=>{const i=t.index.getStorageSync("historyArr")||[],{id:n,classid:s,title:r,author:a,picurl:l,hits:o,posttime:u}=e,c={id:n,classid:s,title:r,author:a,picurl:l,hits:o,posttime:u},d=(v=c,(p=i).length?p.findLastIndex((t=>t.id===v.id&&t.classid===v.classid)):-1);var p,v;d>-1&&i.splice(d,1),i.unshift(c),t.index.setStorageSync("historyArr",i)})(i)}});const s=t.computed$1((()=>{var t;return new Date(1e3*+(null==(t=n.value)?void 0:t.posttime)+288e5).toJSON().substring(0,19).replace("T"," ")}));return(e,i)=>{var r,a,l;return{a:t.t(null==(r=t.unref(n))?void 0:r.title),b:t.t(null==(a=t.unref(n))?void 0:a.author),c:t.t(t.unref(s)),d:null==(l=t.unref(n))?void 0:l.content}}}}),i=t._export_sfc(e,[["__scopeId","data-v-14f3f7cf"]]);wx.createPage(i);
